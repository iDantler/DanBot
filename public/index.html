<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creador de Embeds</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/dark-mode.css">
</head>
<body>

    <header class="sidebar">
        <div class="header-content">
            <div class="server-profile" id="server-profile">
                <img id="server-icon" src="" alt="Icono del servidor">
                <div class="server-initial-icon" id="server-initial-icon"></div>
                <span id="server-name">Selecciona un servidor</span>
            </div>
            <ul class="server-dropdown" id="server-dropdown">
                </ul>
        </div>

        <nav class="navigation">
            <ul>
                <li><a href="#" id="nav-create" class="active"><i class="fas fa-plus-square"></i> Crear Embed</a></li>
                <li><a href="#" id="nav-view" class=""><i class="fas fa-list"></i> Ver Embeds</a></li>
                <li><a href="#" id="nav-deleted"><i class="fas fa-trash-restore"></i> Recuperar Eliminados</a></li>
            </ul>
        </nav>

        <div class="theme-toggle">
            <label class="switch">
                <input type="checkbox" id="theme-toggle-checkbox">
                <span class="slider round"></span>
            </label>
            <span>Modo Oscuro</span>
        </div>

        </header>

    <main class="main-content">
        <section class="content-section" id="create-embed-section">
            <div class="form-container">
                <form id="embed-form">
                    <div class="form-row">
                        <label for="channel-select">Canal</label>
                        <select id="channel-select" name="channelId" required disabled></select>
                    </div>
                    <div class="form-row">
                        <label for="role-select">Rol a asignar</label>
                        <select id="role-select" name="roleId" required disabled></select>
                    </div>
                    <div class="form-row">
                        <label for="reactionEmoji">Emoji de Reacción</label>
                        <input type="text" id="reactionEmoji" name="reactionEmoji" placeholder="Ej: ✅" required>
                    </div>
                    <hr>
                    <div class="form-row">
                        <label for="titulo">Título</label>
                        <input type="text" id="titulo" name="titulo" placeholder="Título del Embed">
                    </div>
                    <div class="form-row">
                        <label for="autor">Autor</label>
                        <input type="text" id="autor" name="autor" placeholder="Autor del Embed">
                    </div>
                    <div class="form-row">
                        <label for="color">Color (Hex)</label>
                        <input type="color" id="color" name="color" value="#5865f2">
                    </div>
                    <div class="form-row">
                        <label for="descripcion">Descripción</label>
                        <textarea id="descripcion" name="descripcion" placeholder="Descripción del Embed (usa markdown)"></textarea>
                    </div>
                    <div class="form-row">
                        <label for="imagen">URL de la Imagen</label>
                        <input type="url" id="imagen" name="imagen" placeholder="URL de la imagen principal">
                    </div>
                    <div class="form-row">
                        <label for="thumbnail">URL de la Miniatura (Thumbnail)</label>
                        <input type="url" id="thumbnail" name="thumbnail" placeholder="URL de la miniatura">
                    </div>
                    <div class="form-row">
                        <label for="footer">Texto del Pie de Página (Footer)</label>
                        <input type="text" id="footer" name="footer" placeholder="Texto en el pie de página">
                    </div>
                    <div class="form-row">
                        <label for="footerIcon">URL del Icono del Pie de Página</label>
                        <input type="url" id="footerIcon" name="footerIcon" placeholder="URL del icono del pie de página">
                    </div>
                    
                    <hr>
                    <label>Campos Adicionales</label>
                    <div id="additional-fields">
                        <p class="text-muted" id="no-fields-message">No hay campos adicionales.</p>
                    </div>
                    <button type="button" class="add-field-button" onclick="addField()"><i class="fas fa-plus"></i> Añadir Campo</button>
                    
                    <button type="submit" id="submit-button" class="submit-button" disabled>Publicar Embed</button>
                    <p id="status-message" class="status-message"></p>
                </form>
            </div>
            
            <div class="preview-container">
                <h3>Previsualización del Embed</h3>
                <div class="embed-preview" id="embed-preview">
                    <div class="embed-preview-author" id="preview-author"></div>
                    <div class="embed-preview-title" id="preview-title"></div>
                    <div class="embed-preview-description" id="preview-description"></div>
                    <div class="embed-preview-fields" id="preview-fields"></div>
                    <img class="embed-preview-image" id="preview-image" src="" style="display: none;">
                    <div class="embed-preview-thumbnail" id="preview-thumbnail" style="display: none;">
                        <img src="" alt="Miniatura">
                    </div>
                    <div class="embed-preview-footer" id="preview-footer">
                        <img id="preview-footer-icon" src="" style="display: none;">
                        <span id="preview-footer-text"></span>
                    </div>
                </div>
            </div>
        </section>

        <section class="content-section" id="view-embeds-section" style="display: none;">
            <div class="embeds-list-container">
                <h3>Embeds Activos</h3>
                <div id="embeds-container">
                    <p>Por favor, selecciona un servidor para ver los embeds.</p>
                </div>
            </div>
        </section>

        <section class="content-section" id="deleted-embeds-section" style="display: none;">
            <div class="embeds-list-container">
                <h3>Embeds Eliminados</h3>
                <p id="deleted-embeds-status">Cargando embeds eliminados...</p>
                <div id="deleted-embeds-container"></div>
            </div>
        </section>
    </main>

    <script src="/js/index.js"></script>
</body>
</html>